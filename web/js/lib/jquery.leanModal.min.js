var leanDefaults = {
	top : 100,
	overlay : 0.5,
	closeButton : null
};

function openModal(modal_id, options) {
	var o = $.extend(leanDefaults, options);
	$("#lean_overlay").click(function() {
		closeModal(modal_id);
	});
	$(o.closeButton).click(function() {
		closeModal(modal_id);
	});
	var modal_height = $(modal_id).outerHeight();
	var modal_width = $(modal_id).outerWidth();
	$("#lean_overlay").css({
		"display" : "block",
		opacity : 0
	});
	$("#lean_overlay").fadeTo(200, o.overlay);
	$(modal_id).css({
		"display" : "block",
		"position" : "fixed",
		"opacity" : 0,
		"z-index" : 11000,
		"left" : 50 + "%",
		"margin-left" : -(modal_width / 2) + "px",
		"top" : o.top + "px"
	});
	$(modal_id).fadeTo(200, 1);
};

function closeModal(modal_id) {
	$("#lean_overlay").fadeOut(200);
	$(modal_id).css({
		"display" : "none"
	});
}

$(document).ready(function() {
	$("body").append("<div id='lean_overlay'></div>");
});

